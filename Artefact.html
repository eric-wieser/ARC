<!doctype html>
<html>
	<head>
		<title>The Artefact</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
		<link href='http://fonts.googleapis.com/css?family=Terminal+Dosis+Light|Ubuntu:300|Ubuntu:300italic' rel='stylesheet' type='text/css' />
		<meta http-equiv="x-ua-compatible" content="IE=edge" />
		<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	</head>
	<body>
		<h1><span>The Artefact</span></h1>
		<div id="wrapper">
			<section>
				<h2>Wheels</h2>
				<figure>
					<img src="images/photos/split-ring.png" alt="Split Ring" />
					<figcaption>The split ring</figcaption>
				</figure>
				<figure>
					<img src="images/photos/hub.png" alt="Hub" />
					<figcaption>The hub</figcaption>
				</figure>
				<p>The wheels are designed such that they are effectively frictionless in one axis. This is achieved by mounting a set of smaller perpendicular wheels around the circumference. These smaller wheels are free to turn even when the main wheel is held still, allowing a free component of motion along the axis of the wheel. At the same time, the wheel can be powered as normal wheel.</p>
				<p>The small wheels in my design are washers. These are sufficient, as the sharp edge of the washer provides plenty of friction in the direction of drive, and the perpendicular friction is faily low. Additionally, washers are cheap!</p>
				<p>The axles for the washers needs to be a ring. The easiest way to get a ring is from a keychain. The ones the wheels use is a  <a href="http://onestop-key-rings.co.uk/51mm-split-rings-pack-of-10-p-11.html">5.1mm split ring from onestop-key-rings.co.uk</a></p>
				<p>The next thing needed is a way of holding the split ring onto the motor shaft. This was done with a circular laser-cut aluminum hub, held onto the split ring with cable ties.</p>
				<p>The most time consuming part of this aspect of the artefact was designing the aluminum hub. This is partly because of the accuracy required. A technical drawing program was used to design this. The design went through multiple sizes, as the measurements of the washers and split ring were gradually improved. The final design was set off to <a href="http://www.microkerf.com/">microkerf</a>, where it was laser cut in 4mm aluminum</p>
			</section>
			<section id="motors">
				<h2>Motors</h2>
				<figure>
					<img src="images/photos/motor.png" alt="Motor" />
					<figcaption><a href="http://www.pololu.com/catalog/product/1162">The motor</a></figcaption>
				</figure>

				<section style="clear: both">
					<h3>Choosing a motor</h3>
					<div class="columns-2">
						<div class="left">
							<p>In a motor, speed and torque are related linearly. For a motor with a stall torque of \(T_{max}\), and a free-running rotational speed of \(\dot{\theta}_{max}\), the torque at angular velocity \(\dot{\theta}\) is:</p>
							$$T = T_{max} \times \left(1 - \frac{\dot{\theta}}{\dot{\theta}_{max}}\right)$$
							<p>This is a straight line, with intercepts at \(T_{max}\) and \(\dot{\theta}_{max}\)</p>
							<p>The equations for torque and rotational velocity should then be looked at</p>
							$$\begin{align}
								v &= r\dot{\theta} \\
								F &= ma = rT \\
							\end{align}$$
							<p>From these, we can express the acceleration of the robot in terms of its velocity</p>
							$$\begin{align}
								\therefore a &= \frac{rT}{m} \\
								             &= \frac{r \times T_{max} \left(1 - \frac{\dot{\theta}}{\dot{\theta}_{max}}\right)}{m} \\
								             &= \frac{T_{max}}{m} \left(r - \frac{r\dot{\theta}}{\dot{\theta}_{max}}\right) \\
								             &= \frac{T_{max}}{m} \left(r - \frac{v}{\dot{\theta}_{max}}\right) \\
								             &= \frac{r \times T_{max}}{m} - \frac{T_{max}}{m \times \dot{\theta}_{max}} v
							\end{align}$$
						</div>
						<div class="right">
							<p>At this point, it simplifies things greatly to define constants \(k_1\) and \(k_2\) such that</p>
							$$ k_1 = \frac{r \times T_{max}}{m}, k_2 = \frac{T_{max}}{m \times \dot{\theta}_{max}} $$
							<p>allowing the earlier equation to be expressed as</p>
							$$\begin{align}
								a &= k_1 - k_2 \times v \\
								\Rightarrow \frac{dv}{dt} &= k_1 - k_2 \times v \\
							\end{align}$$
							<p>This is a differential equation of a standard form, with the solution</p>
							$$v = \frac{k_1}{k_2} + ce^{k_2t}$$
							<p>Solving the differential equation introduces a constant of integration, \(c\). This is a result of not taking into account the initial speed when \(t = 0\). Using a value of \(v = 0\) when \(t = 0\),</p>
							$$\begin{align}
								0 &= \frac{k_1}{k_2} + ce^{k_2\times0} = \frac{k_1}{k_2} + ce^0 = \frac{k_1}{k_2} + c \\
								\Rightarrow c &= - \frac{k_1}{k_2} \\
								\Rightarrow v &= \frac{k_1}{k_2} - \frac{k_1}{k_2}e^{k_2t} = \frac{k_1}{k_2} \left(1 - e^{k_2t}\right) \\
							\end{align}$$
						</div>
					</div>
				</section>
				<p>This gives a formula for the velocity of a wheel \(t\) second after turning the motor on from rest. By filling in a table of motor characteristics (\(T_{max}\) and \(\dot{\theta}_{max}\)), and calculating \(k_1\) and \(k_2\), graphs of velocity over time can be plotted for each motor. The most suitable motor could then be determined from the graphs</p>
			</section>
			<section>
				<h2>Drivers</h2>
				<figure>
					<img src="images/photos/driver-design.png" alt="Driver design" />
					<figcaption>The layout of the board</figcaption>
				</figure>
				<figure>
					<img src="images/photos/drivers.png" alt="Assembled drivers" />
					<figcaption>Assembled drivers</figcaption>
				</figure>
				<p>The motors chosen can take up to 3.3A of current. In order to drive these safely, the driver chips have to be able to take at least this much. Initially, the plan was to get at pre built motor drivers, but they were generally too expensive, and either under-speced, or way over-speced. In the end, I decided to cuild the drivers myself</p>
				<p>The chip used was a L298 dual H-bridge, which allows two DC motors to be powered at up to 2A. By paralleling the outputs, a current of 4A can be drawn. This is more than required, but it means there's no chance of the chip blowing up. The other thing the driver requires are clamp diodes to clamp the motor outputs to the supply voltage, preventing reverse EMF, which can damage the driver chip</p>
				<p>The original plan was to make a PCB for the entire robot, and assemble the drivers on the PCB. However, PCB fabrication turned out to be expensive, and a lot of work. Instead, the motor drivers were assembled and soldered onto a piece of stripboard, which had the benefit of being prototypable.</p>
			</section>
			<section>
				<h2>Control system</h2>
				<h3>Direction</h3>
				<p></p>
				<h3>Rotation</h3>
				<p>The formula for the velocity \(v\) of a point of distance \(r\) from the center of rotation, rotating at an angular velocity of \(\omega\) is given by the equation:</p>
				$$v = r\omega$$
				<p>However, this equation is of limited use. Thinking back to the straight-line driving, it is much more convenient if the variables can be expressed as vectors. It can be seen that the velocity of a point displaced \(\mathbf{r}\) from the center of rotation is a tangent to the circular motion, ie \(\mathbf{v}\) is perpendicular to \(\mathbf{r}\).</p>
				<p>From this information, the following equation can be derived:</p>
				$$\mathbf{v} = \mathbf{r}^\perp \times \omega$$
			</section>
		</div>
	</body>
</html>
